{% extends "base.html" %}

{% block content %}
<div class="container">
    <h2>User Commands</h2>
    <p>View commands from all users and submit your own command below.</p>

    <div style="max-height: 400px; overflow-y: auto; padding: 10px; border: 1px solid #ddd; background: #f9f9f9; margin-bottom: 20px;">
        {% for cmd in commands %}
            <div style="padding: 5px 0; border-bottom: 1px solid #eee;">
                <strong>{{ cmd.user }}</strong>: {{ cmd.command }}
                <small class="text-muted">({{ cmd.timestamp }})</small>

                <form method="POST" action="{{ url_for('like_command', command_id=cmd.id) }}" style="display:inline;">
                    <button type="submit" style="background:none; border:none; cursor:pointer; color:{{ 'red' if cmd.liked else 'grey' }};" aria-pressed="{{ 'true' if cmd.liked else 'false' }}">
                        â™¥ {{ cmd.likes or 0 }}
                    </button>
                </form>
            </div>
        {% else %}
            <p>No commands found.</p>
        {% endfor %}
    </div>

    <form method="POST" action="{{ url_for('commands') }}">
        <div class="form-group mb-3">
            <input type="text" name="command" class="form-control" placeholder="Type your command here..." required autofocus autocomplete="off">
        </div>
        <button type="submit" class="btn btn-primary" style="cursor:pointer;">
            Send Command
        </button>
    </form>
</div>
{% endblock %}
